# 2025.05.27 多元選修課堂筆記
## 函數（Function）

### 函數的基本概念

* **函數的目的**：用一個給定的名字，代替整段重複的程式碼。
* **核心概念**：功能的模組化，讓程式可以被重複呼叫，提升程式的可讀性與維護性。

### 函數的基本格式

```cpp
資料型態 函數名稱(參數) {
    敘述主體;
}
```

#### 範例：

```cpp
int hello() {
    cout << "hello, world" << endl;
}
```

### 函數的使用注意事項

* 函數**必須在被呼叫之前就已經宣告或定義**（編譯器由上而下解析）。
* 函數的**定義**與**宣告**可以分開進行。

### 沒有回傳值與沒有參數的函數範例

```cpp
void greet() {
    cout << "歡迎使用本系統！" << endl;
}
```

此範例中：

* `void` 表示無回傳值。
* 括號中無參數，表示這個函數不接受任何輸入。

---

## 函數的呼叫方式

### 1. 傳值呼叫（Call by Value）

* 函數呼叫時**傳入的是值的副本**。
* 原本的變數值**不會被更改**。

#### 範例：

```cpp
void addOne(int x) {
    x = x + 1;
    cout << "函數內的 x: " << x << endl;
}

int main() {
    int a = 5;
    addOne(a);
    cout << "main 函數內的 a: " << a << endl;  // 輸出仍為 5
}
```

### 2. 傳參考呼叫（Call by Reference）

* 函數呼叫時**傳入的是變數的參考（記憶體位置）**。
* 原變數值**可能被更改**。

#### 範例：

```cpp
void addOne(int &x) {
    x = x + 1;
    cout << "函數內的 x: " << x << endl;
}

int main() {
    int a = 5;
    addOne(a);
    cout << "main 函數內的 a: " << a << endl;  // 輸出為 6
}
```

### 傳值呼叫 vs 傳參考呼叫 差異比較

| 特性       | 傳值呼叫 (Call by Value) | 傳參考呼叫 (Call by Reference) |
| -------- | -------------------- | ------------------------- |
| 是否更改原始變數 | 否                    | 是                         |
| 傳遞方式     | 傳入副本                 | 傳入參考（記憶體位置）               |
| 安全性      | 高（不會影響原資料）           | 低（可能誤改原資料）                |
| 效能       | 較低（需要複製資料）           | 較高（直接操作記憶體）               |

---

## 延伸：遞迴函數（Recursive Function）

### 概念說明

* 遞迴函數是一種**自己呼叫自己的函數**。
* 必須包含**終止條件**，否則會造成無限呼叫（導致程式當掉或 stack overflow）。
* 常用於數學遞推問題、資料結構（如樹狀結構）的處理。

#### 範例：

```cpp
int factorial(int n) {
    if (n == 0) return 1;
    return n * factorial(n - 1);
}
```

說明：

* `factorial` 函數計算 n 的階乘。
* 當 `n == 0` 時，回傳 1 為終止條件。
* 其餘情況持續呼叫 `factorial(n - 1)`。
